services:
  spotify.api:
    class: Drupal\spotify_artists\SpotifyApiService
    arguments: ['@config.factory', '@spotify.tempstore.private', '@event_dispatcher']
  spotify.artists:
    class: Drupal\spotify_artists\ArtistsService
    arguments: [ '@spotify.api', '@config.factory', '@spotify.tempstore.private', '@event_dispatcher' ]
  spotify.search:
    class: Drupal\spotify_artists\SearchArtistsService
    arguments: [ '@spotify.api' ,'@event_dispatcher']
  spotify.tempstore.private:
    class: Drupal\Core\TempStore\PrivateTempStoreFactory
    arguments: [ '@keyvalue.expirable', '@lock', '@current_user', '@request_stack', 3600 ]
  spotify.subscriber:
    class: Drupal\spotify_artists\EventSubscriber\APISubscriber
    arguments: ['@current_user', '@database', '@datetime.time']
    tags:
      - { name: event_subscriber }
